/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./library","sap/ui/core/Control","sap/ui/core/Renderer","sap/ui/core/library","sap/ui/events/KeyCodes","./ObjectNumberRenderer"],function(e,t,i,r,s,a){"use strict";var n=r.TextAlign;var u=r.TextDirection;var p=r.ValueState;var o=t.extend("sap.m.ObjectNumber",{metadata:{interfaces:["sap.ui.core.IFormContent"],library:"sap.m",designtime:"sap/m/designtime/ObjectNumber.designtime",properties:{number:{type:"string",group:"Misc",defaultValue:null},numberUnit:{type:"string",group:"Misc",defaultValue:null,deprecated:true},emphasized:{type:"boolean",group:"Appearance",defaultValue:true},state:{type:"sap.ui.core.ValueState",group:"Misc",defaultValue:p.None},unit:{type:"string",group:"Misc",defaultValue:null},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:u.Inherit},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:n.Begin},active:{type:"boolean",group:"Misc",defaultValue:false},inverted:{type:"boolean",group:"Misc",defaultValue:false}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"}},events:{press:{}},dnd:{draggable:true,droppable:false}}});o.prototype._getStateText=function(){var e=this.getState(),t=sap.ui.getCore().getLibraryResourceBundle("sap.m");return t.getText("OBJECTNUMBER_ARIA_VALUE_STATE_"+e.toUpperCase(),[],true)};o.prototype.getAccessibilityInfo=function(){var e="";if(this.getState()!==p.None){e=this._getStateText()}return{description:(this.getNumber()+" "+this.getUnit()+" "+e).trim()}};o.prototype.ontap=function(e){if(this._isClickable(e)){this.firePress()}};o.prototype._activeState=function(){this.addStyleClass("sapMObjectNumberPressed")};o.prototype._inactiveState=function(){this.removeStyleClass("sapMObjectNumberPressed")};o.prototype.onkeydown=function(e){if(e.which===s.SPACE||e.which===s.ENTER){e.setMarked();this._activeState();if(e.which===s.ENTER){this.firePress()}else{e.preventDefault();this._bPressedSpace=true}}else if(this._bPressedSpace){if(e.which===s.SHIFT||e.which===s.ESCAPE){this._bPressedEscapeOrShift=true;this._inactiveState()}else{e.preventDefault()}}};o.prototype.onkeyup=function(e){if(e.which===s.ENTER){e.setMarked();this._inactiveState()}else if(e.which===s.SPACE){if(!this._bPressedEscapeOrShift){e.setMarked();this.firePress();this._inactiveState()}else{this._bPressedEscapeOrShift=false}this._bPressedSpace=false}else if(e.which===s.ESCAPE){this._bPressedSpace=false}};o.prototype._isActive=function(){return this.getActive()&&(this.getNumber().trim()||this.getUnit().trim())};o.prototype._isClickable=function(e){var t=e.target.id;return this._isActive()&&(t===this.getId()+"-link"||t===this.getId()+"-number"||t===this.getId()+"-unit")};return o});