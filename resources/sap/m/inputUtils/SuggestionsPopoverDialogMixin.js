/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/library","sap/ui/core/Core","sap/ui/core/IconPool","sap/m/Dialog","sap/m/Button","sap/m/Bar","sap/m/Title","sap/m/Toolbar","sap/m/ToggleButton"],function(t,e,n,o,r,i,u,s,a){"use strict";var g=t.TitleAlignment;return function(){this.getPickerTitle=function(){return this.getPopover().getCustomHeader().getContentMiddle()[0]};this.getOkButton=function(){var t=this.getPopover(),e=t&&t.getBeginButton();return e||null};this.getCancelButton=function(){var t=this.getPopover(),e=t&&t.getCustomHeader()&&t.getCustomHeader().getContentRight&&t.getCustomHeader().getContentRight()[0];return e||null};this.getFilterSelectedButton=function(){var t=this.getPopover(),e=t&&t.getSubHeader()&&t.getSubHeader().getContent()[1];return e||null};this.getShowMoreButton=function(){return this.getPopover().getEndButton()};this.setShowMoreButton=function(t){this.getPopover().setEndButton(t);return this};this.removeShowMoreButton=function(){this.getPopover().destroyAggregation("endButton");return this};this.setOkPressHandler=function(t){var e=this.getOkButton();e&&e.attachPress(t);return e};this.setCancelPressHandler=function(t){var e=this.getCancelButton();e&&e.attachPress(t);return e};this.setShowSelectedPressHandler=function(t){var e=this.getFilterSelectedButton();e&&e.attachPress(t);return e};this.createPopover=function(s,a){var l=e.getLibraryResourceBundle("sap.m"),h=this,p=new sap.m.Input(s.getId()+"-popup-input",{width:"100%",showValueStateMessage:false});return new o(s.getId()+"-popup",{beginButton:new r(s.getId()+"-popup-closeButton",{text:l.getText("SUGGESTIONSPOPOVER_CLOSE_BUTTON")}),stretch:true,titleAlignment:g.Auto,customHeader:new i(s.getId()+"-popup-header",{titleAlignment:g.Auto,contentMiddle:new u,contentRight:new r({icon:n.getIconURI("decline")})}),subHeader:c(a,p),horizontalScrolling:false,initialFocus:p,beforeOpen:function(){h._updatePickerHeaderTitle()},afterClose:function(){s.focus();t.closeKeyboard()}})};this.getInput=function(){var t=this.getPopover(),e=t&&t.getSubHeader(),n=e&&e.getContent();return n&&n.filter(function(t){return t.isA("sap.m.InputBase")})[0]};this._updatePickerHeaderTitle=function(){var t=e.getLibraryResourceBundle("sap.m"),n=this.getPickerTitle(),o,r;if(!n){return}r=this._getInputLabels();if(r.length){o=r[0];if(o&&typeof o.getText==="function"){n.setText(o.getText())}}else{n.setText(t.getText("COMBOBOX_PICKER_TITLE"))}return n};this._getInputLabels=function(){return this._fnInputLabels()};function c(t,e){var n=[e];if(t.showSelectedButton){n.push(l())}return new s({content:n})}function l(){var t=n.getIconURI("multiselect-all");return new a({icon:t})}}});